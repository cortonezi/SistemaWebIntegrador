<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cadastro de Clientes</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!-- Cabeçalho -->
        <header>
            <div class="container">
                <h1 style="margin-bottom: 30px;">Bem-vindo ao Sistema de Troca de Óleo e Suspensão</h1>
                <nav>
                    <ul>
                        <li><a href="index.html">Início</a></li>
                        <li><a href="cadastroClientes.html" class="active">Cadastro de Clientes</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Conteúdo principal -->
        <main>
            <section class="intro">
                <h2>Cadastro de Clientes</h2>
                <!-- Formulário de cadastro -->
                <form action="ClienteServlet" method="post" id="cadastroForm">
                    <label for="nome">Nome Completo:</label>
                    <input type="text" id="nome" name="nome" placeholder="Digite o nome completo" required>

                    <label for="endereco">Endereço:</label>
                    <input type="text" id="endereco" name="endereco" placeholder="Digite o endereço completo" required>

                    <div class="row">
                        <div>
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" placeholder="Digite o email" required>
                            <span id="emailError" class="error-message" style="display:none; color:red;"></span>
                        </div>
                        <div>
                            <label for="telefone">Telefone:</label>
                            <input type="tel" id="telefone" name="telefone" placeholder="Digite o telefone" required>
                            <span id="telefoneError" class="error-message" style="display:none; color:red;"></span>
                        </div>
                    </div>

                    <div class="row">
                        <div>
                            <label for="marca">Marca do Veículo:</label>
                            <select id="marca" name="marca" required>
                                <option value="">Selecione a marca</option>
                                <option value="Fiat">Fiat</option>
                                <option value="Chevrolet">Chevrolet</option>
                                <option value="Volkswagen">Volkswagen</option>
                                <option value="Toyota">Toyota</option>
                                <option value="Hyundai">Hyundai</option>
                                <option value="Renault">Renault</option>
                                <option value="Honda">Honda</option>
                                <option value="Nissan">Nissan</option>
                                <option value="Jeep">Jeep</option>
                                <option value="Peugeot">Peugeot</option>
                                <option value="Citroën">Citroën</option>
                                <option value="BMW">BMW</option>
                                <option value="Mercedes-Benz">Mercedes-Benz</option>
                                <option value="Audi">Audi</option>
                                <option value="Kia">Kia</option>
                                <option value="Mitsubishi">Mitsubishi</option>
                                <option value="Subaru">Subaru</option>
                                <option value="Volvo">Volvo</option>
                                <option value="Land Rover">Land Rover</option>
                                <option value="Jaguar">Jaguar</option>
                                <option value="Tesla">Tesla</option>
                                <option value="Porsche">Porsche</option>
                            </select>
                        </div>
                        <div>
                            <label for="modelo">Modelo do Veículo:</label>
                            <select id="modelo" name="modelo" required>
                                <option value="">Selecione o modelo</option>
                            </select>
                        </div>
                    </div>

                    <label for="placa">Placa do Veículo:</label>
                    <input type="text" id="placa" name="placa" placeholder="Digite a placa do veículo" required>
                    <span id="placaError" class="error-message" style="display:none; color:red;"></span>

                    <label for="observacao">Observação:</label>
                    <textarea id="observacao" name="observacao" placeholder="Adicione alguma observação sobre o cliente" rows="6" style="font-size: 18px; line-height: 1.5; padding: 10px;"></textarea>

                    <button type="submit" class="btn btn-yellow">Cadastrar Cliente</button>
                </form>
            </section>
        </main>

        <!-- Rodapé -->
        <footer>
            <div class="footer-info">
                <p>Telefone: 11 98888-1234</p>
                <p>Email: <a href="mailto:trocadeoleo@gmail.com">trocadeoleo@gmail.com</a></p>
            </div>
            <p>&copy; 2024 Sistema de Troca de Óleo e Suspensão. Todos os direitos reservados.</p>
        </footer>

        <!-- Scripts -->
        <script>
            // Objeto com modelos por marca
            const modelosPorMarca = {
                "Fiat": ["Mobi", "Argo", "Pulse", "Toro", "Cronos", "Strada", "Fastback"],
                "Chevrolet": ["Onix", "Onix Plus", "Tracker", "S10", "Trailblazer", "Cruze", "Montana", "Spin"],
                "Volkswagen": ["Gol", "Polo", "Virtus", "T-Cross", "Nivus", "Taos", "Saveiro"],
                "Toyota": ["Corolla", "Corolla Cross", "Hilux", "SW4", "Yaris", "RAV4", "Camry"],
                "Hyundai": ["HB20", "HB20S", "Creta", "Tucson", "Santa Fe", "Azera"],
                "Renault": ["Kwid", "Sandero", "Logan", "Duster", "Captur", "Oroch", "Master"],
                "Honda": ["Civic", "City", "City Hatchback", "HR-V", "CR-V", "Accord"],
                "Nissan": ["March", "Versa", "Kicks", "Frontier"],
                "Jeep": ["Renegade", "Compass", "Commander", "Wrangler", "Gladiator"],
                "Peugeot": ["208", "2008", "3008", "5008"],
                "Citroën": ["C3", "C4 Cactus", "C5 Aircross"],
                "BMW": ["Série 1", "Série 3", "Série 5", "Série 7", "X1", "X3", "X5", "X6", "iX3"],
                "Mercedes-Benz": ["Classe A", "Classe C", "Classe E", "Classe GLA", "Classe GLB", "Classe GLC", "AMG GT"],
                "Audi": ["A3", "A4", "A5", "A6", "Q3", "Q5", "Q7", "E-Tron"],
                "Kia": ["Picanto", "Cerato", "Seltos", "Sportage", "Sorento", "Carnival", "Stinger"],
                "Mitsubishi": ["L200 Triton", "ASX", "Outlander", "Pajero Sport"],
                "Subaru": ["Forester", "Outback", "XV"],
                "Volvo": ["XC40", "XC60", "XC90", "C40"],
                "Land Rover": ["Defender", "Discovery", "Discovery Sport", "Range Rover Evoque", "Range Rover Velar"],
                "Jaguar": ["F-Pace", "E-Pace", "I-Pace", "F-Type"],
                "Tesla": ["Model 3", "Model S", "Model X", "Model Y"],
                "Porsche": ["911", "Taycan", "Macan", "Cayenne", "Panamera"]

            };
            // Preencher o campo modelo dinamicamente
            const marcaSelect = document.getElementById("marca");
            const modeloSelect = document.getElementById("modelo");
            marcaSelect.addEventListener("change", () => {
                const marcaSelecionada = marcaSelect.value;
                modeloSelect.innerHTML = '<option value="">Selecione o modelo</option>';
                if (modelosPorMarca[marcaSelecionada]) {
                    modelosPorMarca[marcaSelecionada].forEach(modelo => {
                        const option = document.createElement("option");
                        option.value = modelo;
                        option.textContent = modelo;
                        modeloSelect.appendChild(option);
                    });
                }
            });
            // Obter parâmetros da URL e exibir mensagens de erro
            const params = new URLSearchParams(window.location.search);
            const error = params.get("error");
            const success = params.get("success");
            document.addEventListener("DOMContentLoaded", () => {
                // Mostrar mensagens de erro específicas
                if (error) {
                    if (error.includes("Email")) {
                        document.getElementById("emailError").textContent = "O email informado já está cadastrado.";
                        document.getElementById("emailError").style.display = "block";
                    }
                    if (error.includes("Telefone")) {
                        document.getElementById("telefoneError").textContent = "O telefone informado já está cadastrado.";
                        document.getElementById("telefoneError").style.display = "block";
                    }
                    if (error.includes("Placa")) {
                        document.getElementById("placaError").textContent = "A placa informada já está cadastrada.";
                        document.getElementById("placaError").style.display = "block";
                    }

                    // Preencher campos com os valores enviados
                    document.getElementById("nome").value = params.get("nome") || "";
                    document.getElementById("endereco").value = params.get("endereco") || "";
                    document.getElementById("email").value = params.get("email") || "";
                    document.getElementById("telefone").value = params.get("telefone") || "";
                    document.getElementById("placa").value = params.get("placa") || "";
                    document.getElementById("observacao").value = params.get("observacao") || "";
                    marcaSelect.value = params.get("marca") || "";
                }

                // Mostrar mensagem de sucesso e limpar formulário
                if (success === "true") {
                    alert("Cliente cadastrado com sucesso!");
                    document.getElementById("cadastroForm").reset();
                }
            });
        </script>
    </body>
</html>

<option value="">Selecione a marca</option>
<option value="Fiat">Fiat</option>
<option value="Chevrolet">Chevrolet</option>
<option value="Volkswagen">Volkswagen</option>
<option value="Toyota">Toyota</option>
<option value="Hyundai">Hyundai</option>
<option value="Renault">Renault</option>
<option value="Honda">Honda</option>
<option value="Nissan">Nissan</option>
<option value="Jeep">Jeep</option>
<option value="Peugeot">Peugeot</option>
<option value="Citroën">Citroën</option>
<option value="BMW">BMW</option>
<option value="Mercedes-Benz">Mercedes-Benz</option>
<option value="Audi">Audi</option>
<option value="Kia">Kia</option>
<option value="Mitsubishi">Mitsubishi</option>
<option value="Subaru">Subaru</option>
<option value="Volvo">Volvo</option>
<option value="Land Rover">Land Rover</option>
<option value="Jaguar">Jaguar</option>
<option value="Tesla">Tesla</option>
<option value="Porsche">Porsche</option>